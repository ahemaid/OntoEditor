!function(e){function n(t){if(i[t])return i[t].exports;var l=i[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,n),l.l=!0,l.exports}var i={};n.m=e,n.c=i,n.d=function(e,i,t){n.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(i,"a",i),i},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=12)}([function(e,n){function i(e,n,i,t){var l=function(e,i,t,l){n(t,e,i,"left"),n(l,i,e,"right")},r=e.transformX=function(e,n){i(e),i(n);for(var o=[],p=0;p<n.length;p++){for(var d=n[p],f=[],u=0;u<e.length;){var s=[];if(l(e[u],d,f,s),u++,1!==s.length){if(0===s.length){for(var a=u;a<e.length;a++)t(f,e[a]);d=null;break}for(var c=r(e.slice(u),s),v=0;v<c[0].length;v++)t(f,c[0][v]);for(var h=0;h<c[1].length;h++)t(o,c[1][h]);d=null;break}d=s[0]}null!=d&&t(o,d),e=f}return[e,o]};e.transform=function(e,i,t){if("left"!==t&&"right"!==t)throw new Error("type must be 'left' or 'right'");return 0===i.length?e:1===e.length&&1===i.length?n([],e[0],i[0],t):"left"===t?r(e,i)[0]:r(i,e)[1]}}e.exports=i},function(e,n,i){e.exports={type:i(2)}},function(e,n,i){function t(e){e.t="text0";var n={p:e.p.pop()};null!=e.si&&(n.i=e.si),null!=e.sd&&(n.d=e.sd),e.o=[n]}function l(e){e.p.push(e.o[0].p),null!=e.o[0].i&&(e.si=e.o[0].i),null!=e.o[0].d&&(e.sd=e.o[0].d),delete e.t,delete e.o}var r=function(e){return"[object Array]"==Object.prototype.toString.call(e)},o=function(e){return!!e&&e.constructor===Object},p=function(e){return JSON.parse(JSON.stringify(e))},d={name:"json0",uri:"http://sharejs.org/types/JSONv0"},f={};d.registerSubtype=function(e){f[e.name]=e},d.create=function(e){return void 0===e?null:p(e)},d.invertComponent=function(e){var n={p:e.p};return e.t&&f[e.t]&&(n.t=e.t,n.o=f[e.t].invert(e.o)),void 0!==e.si&&(n.sd=e.si),void 0!==e.sd&&(n.si=e.sd),void 0!==e.oi&&(n.od=e.oi),void 0!==e.od&&(n.oi=e.od),void 0!==e.li&&(n.ld=e.li),void 0!==e.ld&&(n.li=e.ld),void 0!==e.na&&(n.na=-e.na),void 0!==e.lm&&(n.lm=e.p[e.p.length-1],n.p=e.p.slice(0,e.p.length-1).concat([e.lm])),n},d.invert=function(e){for(var n=e.slice().reverse(),i=[],t=0;t<n.length;t++)i.push(d.invertComponent(n[t]));return i},d.checkValidOp=function(e){for(var n=0;n<e.length;n++)if(!r(e[n].p))throw new Error("Missing path")},d.checkList=function(e){if(!r(e))throw new Error("Referenced element not a list")},d.checkObj=function(e){if(!o(e))throw new Error("Referenced element not an object (it was "+JSON.stringify(e)+")")},d.apply=function(e,n){d.checkValidOp(n),n=p(n);for(var i={data:e},l=0;l<n.length;l++){var r=n[l];null==r.si&&null==r.sd||t(r);for(var o=null,u=i,s="data",a=0;a<r.p.length;a++){var c=r.p[a];if(o=u,s,u=u[s],s=c,null==o)throw new Error("Path invalid")}if(r.t&&void 0!==r.o&&f[r.t])u[s]=f[r.t].apply(u[s],r.o);else if(void 0!==r.na){if("number"!=typeof u[s])throw new Error("Referenced element not a number");u[s]+=r.na}else if(void 0!==r.li&&void 0!==r.ld)d.checkList(u),u[s]=r.li;else if(void 0!==r.li)d.checkList(u),u.splice(s,0,r.li);else if(void 0!==r.ld)d.checkList(u),u.splice(s,1);else if(void 0!==r.lm){if(d.checkList(u),r.lm!=s){var v=u[s];u.splice(s,1),u.splice(r.lm,0,v)}}else if(void 0!==r.oi)d.checkObj(u),u[s]=r.oi;else{if(void 0===r.od)throw new Error("invalid / missing instruction in op");d.checkObj(u),delete u[s]}}return i.data},d.shatter=function(e){for(var n=[],i=0;i<e.length;i++)n.push([e[i]]);return n},d.incrementalApply=function(e,n,i){for(var t=0;t<n.length;t++){var l=[n[t]];e=d.apply(e,l),i(l,e)}return e};var u=d.pathMatches=function(e,n,i){if(e.length!=n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t]&&(!i||t!==e.length-1))return!1;return!0};d.append=function(e,n){if(n=p(n),0===e.length)return void e.push(n);var i=e[e.length-1];if(null==n.si&&null==n.sd||null==i.si&&null==i.sd||(t(n),t(i)),u(n.p,i.p))if(n.t&&i.t&&n.t===i.t&&f[n.t]){if(i.o=f[n.t].compose(i.o,n.o),null!=n.si||null!=n.sd){for(var r=n.p,o=0;o<i.o.length-1;o++)n.o=[i.o.pop()],n.p=r.slice(),l(n),e.push(n);l(i)}}else null!=i.na&&null!=n.na?e[e.length-1]={p:i.p,na:i.na+n.na}:void 0!==i.li&&void 0===n.li&&n.ld===i.li?void 0!==i.ld?delete i.li:e.pop():void 0!==i.od&&void 0===i.oi&&void 0!==n.oi&&void 0===n.od?i.oi=n.oi:void 0!==i.oi&&void 0!==n.od?void 0!==n.oi?i.oi=n.oi:void 0!==i.od?delete i.oi:e.pop():void 0!==n.lm&&n.p[n.p.length-1]===n.lm||e.push(n);else null==n.si&&null==n.sd||null==i.si&&null==i.sd||(l(n),l(i)),e.push(n)},d.compose=function(e,n){d.checkValidOp(e),d.checkValidOp(n);for(var i=p(e),t=0;t<n.length;t++)d.append(i,n[t]);return i},d.normalize=function(e){var n=[];e=r(e)?e:[e];for(var i=0;i<e.length;i++){var t=e[i];null==t.p&&(t.p=[]),d.append(n,t)}return n},d.commonLengthForOps=function(e,n){var i=e.p.length,t=n.p.length;if((null!=e.na||e.t)&&i++,(null!=n.na||n.t)&&t++,0===i)return-1;if(0===t)return null;i--,t--;for(var l=0;l<i;l++){var r=e.p[l];if(l>=t||r!==n.p[l])return null}return i},d.canOpAffectPath=function(e,n){return null!=d.commonLengthForOps({p:n},e)},d.transformComponent=function(e,n,i,r){n=p(n);var o=d.commonLengthForOps(i,n),u=d.commonLengthForOps(n,i),s=n.p.length,a=i.p.length;if((null!=n.na||n.t)&&s++,(null!=i.na||i.t)&&a++,null!=u&&a>s&&n.p[u]==i.p[u])if(void 0!==n.ld){var c=p(i);c.p=c.p.slice(s),n.ld=d.apply(p(n.ld),[c])}else if(void 0!==n.od){var c=p(i);c.p=c.p.slice(s),n.od=d.apply(p(n.od),[c])}if(null!=o){var v=s==a,c=i;if(null==n.si&&null==n.sd||null==i.si&&null==i.sd||(t(n),c=p(i),t(c)),c.t&&f[c.t]){if(n.t&&n.t===c.t){var h=f[n.t].transform(n.o,c.o,r);if(h.length>0)if(null!=n.si||null!=n.sd)for(var g=n.p,m=0;m<h.length;m++)n.o=[h[m]],n.p=g.slice(),l(n),d.append(e,n);else n.o=h,d.append(e,n);return e}}else if(void 0!==i.na);else if(void 0!==i.li&&void 0!==i.ld){if(i.p[o]===n.p[o]){if(!v)return e;if(void 0!==n.ld){if(void 0===n.li||"left"!==r)return e;n.ld=p(i.li)}}}else if(void 0!==i.li)void 0!==n.li&&void 0===n.ld&&v&&n.p[o]===i.p[o]?"right"===r&&n.p[o]++:i.p[o]<=n.p[o]&&n.p[o]++,void 0!==n.lm&&v&&i.p[o]<=n.lm&&n.lm++;else if(void 0!==i.ld){if(void 0!==n.lm&&v){if(i.p[o]===n.p[o])return e;var g=i.p[o],w=n.p[o],y=n.lm;(g<y||g===y&&w<y)&&n.lm--}if(i.p[o]<n.p[o])n.p[o]--;else if(i.p[o]===n.p[o]){if(a<s)return e;if(void 0!==n.ld){if(void 0===n.li)return e;delete n.ld}}}else if(void 0!==i.lm)if(void 0!==n.lm&&s===a){var w=n.p[o],y=n.lm,O=i.p[o],b=i.lm;if(O!==b)if(w===O){if("left"!==r)return e;n.p[o]=b,w===y&&(n.lm=b)}else w>O&&n.p[o]--,w>b?n.p[o]++:w===b&&O>b&&(n.p[o]++,w===y&&n.lm++),y>O?n.lm--:y===O&&y>w&&n.lm--,y>b?n.lm++:y===b&&(b>O&&y>w||b<O&&y<w?"right"===r&&n.lm++:y>w?n.lm++:y===O&&n.lm--)}else if(void 0!==n.li&&void 0===n.ld&&v){var w=i.p[o],y=i.lm;g=n.p[o],g>w&&n.p[o]--,g>y&&n.p[o]++}else{var w=i.p[o],y=i.lm;g=n.p[o],g===w?n.p[o]=y:(g>w&&n.p[o]--,g>y?n.p[o]++:g===y&&w>y&&n.p[o]++)}else if(void 0!==i.oi&&void 0!==i.od){if(n.p[o]===i.p[o]){if(void 0===n.oi||!v)return e;if("right"===r)return e;n.od=i.oi}}else if(void 0!==i.oi){if(void 0!==n.oi&&n.p[o]===i.p[o]){if("left"!==r)return e;d.append(e,{p:n.p,od:i.oi})}}else if(void 0!==i.od&&n.p[o]==i.p[o]){if(!v)return e;if(void 0===n.oi)return e;delete n.od}}return d.append(e,n),e},i(0)(d,d.transformComponent,d.checkValidOp,d.append);var s=i(3);d.registerSubtype(s),e.exports=d},function(e,n,i){var t=e.exports={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(e){if(null!=e&&"string"!=typeof e)throw new Error("Initial data must be a string");return e||""}},l=function(e,n,i){return e.slice(0,n)+i+e.slice(n)},r=function(e){if("number"!=typeof e.p)throw new Error("component missing position field");if("string"==typeof e.i==("string"==typeof e.d))throw new Error("component needs an i or d field");if(e.p<0)throw new Error("position cannot be negative")},o=function(e){for(var n=0;n<e.length;n++)r(e[n])};t.apply=function(e,n){var i;o(n);for(var t=0;t<n.length;t++){var r=n[t];if(null!=r.i)e=l(e,r.p,r.i);else{if(i=e.slice(r.p,r.p+r.d.length),r.d!==i)throw new Error("Delete component '"+r.d+"' does not match deleted text '"+i+"'");e=e.slice(0,r.p)+e.slice(r.p+r.d.length)}}return e};var p=t._append=function(e,n){if(""!==n.i&&""!==n.d)if(0===e.length)e.push(n);else{var i=e[e.length-1];null!=i.i&&null!=n.i&&i.p<=n.p&&n.p<=i.p+i.i.length?e[e.length-1]={i:l(i.i,n.p-i.p,n.i),p:i.p}:null!=i.d&&null!=n.d&&n.p<=i.p&&i.p<=n.p+n.d.length?e[e.length-1]={d:l(n.d,i.p-n.p,i.d),p:n.p}:e.push(n)}};t.compose=function(e,n){o(e),o(n);for(var i=e.slice(),t=0;t<n.length;t++)p(i,n[t]);return i},t.normalize=function(e){var n=[];null==e.i&&null==e.p||(e=[e]);for(var i=0;i<e.length;i++){var t=e[i];null==t.p&&(t.p=0),p(n,t)}return n};var d=function(e,n,i){return null!=n.i?n.p<e||n.p===e&&i?e+n.i.length:e:e<=n.p?e:e<=n.p+n.d.length?n.p:e-n.d.length};t.transformCursor=function(e,n,i){for(var t="right"===i,l=0;l<n.length;l++)e=d(e,n[l],t);return e};var f=t._tc=function(e,n,i,t){if(r(n),r(i),null!=n.i)p(e,{i:n.i,p:d(n.p,i,"right"===t)});else if(null!=i.i){var l=n.d;n.p<i.p&&(p(e,{d:l.slice(0,i.p-n.p),p:n.p}),l=l.slice(i.p-n.p)),""!==l&&p(e,{d:l,p:n.p+i.i.length})}else if(n.p>=i.p+i.d.length)p(e,{d:n.d,p:n.p-i.d.length});else if(n.p+n.d.length<=i.p)p(e,n);else{var o={d:"",p:n.p};n.p<i.p&&(o.d=n.d.slice(0,i.p-n.p)),n.p+n.d.length>i.p+i.d.length&&(o.d+=n.d.slice(i.p+i.d.length-n.p));var f=Math.max(n.p,i.p),u=Math.min(n.p+n.d.length,i.p+i.d.length),s=n.d.slice(f-n.p,u-n.p),a=i.d.slice(f-i.p,u-i.p);if(s!==a)throw new Error("Delete ops delete different text in the same region of the document");""!==o.d&&(o.p=d(o.p,i),p(e,o))}return e},u=function(e){return null!=e.i?{d:e.i,p:e.p}:{i:e.d,p:e.p}};t.invert=function(e){e=e.slice().reverse();for(var n=0;n<e.length;n++)e[n]=u(e[n]);return e},i(0)(t,f,o,p)},,,,,,,,,function(e,n,i){window.ShareDB.types.register(i(1).type)}]);